# Starter pipeline
# Minimal pipeline using curl to download from Artifactory

trigger:
- main

pool:
  vmImage: ubuntu-latest

steps:
- bash: |
    echo "Downloading artifact from sharanya-oidc..."
    
    # Using curl with the provided credentials
    # -f: Fail silently on server errors
    # -L: Follow redirects
    # -u: Username and Password
    # -o: Output filename
    
    curl -fL -u "yashwithan:Password@123" \
         "https://hts2.jfrog.io/artifactory/sharanya-oidc/1mb.zip" \
         -o "1mb.zip"

    echo "Download finished. Listing files:"
    ls -lh 1mb.zip
  displayName: 'Curl Download from Artifactory'